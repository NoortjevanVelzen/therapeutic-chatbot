{"ast":null,"code":"// src/components/SocialMediaScreen.js\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import styles from\"./SocialMediaScreen.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=\"http://localhost:5000\";function generatePromptForMood(mood){if(!mood||typeof mood!==\"string\"||mood.trim()===\"\"){mood=\"neutral\";}return\"A stylized photo instagram post (without the instagram UI) designed to support the mood '\".concat(mood,\"':\\n\\n\\u2013 If negative (anxious, sad, angry, overwhelmed): show a peaceful scene like gentle ocean waves, soft pastel colors, and a minimal layout with a calm tone.\\n\\u2013 If neutral: show an uplifting article preview or news snippet with balanced composition, soft lighting, and a hint of curiosity or inspiration (like a sunrise or a glowing headline).\\n\\u2013 If positive: display a cheerful, vibrant post celebrating joy\\u2014bright colors, confetti, smiling icons, or a celebration scene.\\n\\nRequirements:\\n\\u2022 Clean layout, subtle shadows, realistic or semi-realistic visual style.\");}function SocialMediaScreen(_ref){let{mood}=_ref;const[images,setImages]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{console.log(\"Received mood from backend:\",mood);},[mood]);useEffect(()=>{async function fetchImages(){setLoading(true);setError(null);setImages([]);const prompt=generatePromptForMood(mood);try{const response=await axios.post(\"\".concat(BACKEND_URL,\"/api/generate-image\"),{prompt});setImages(response.data.images||[]);}catch(e){var _e$response,_e$response$data;setImages([]);setError(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.error)||\"Image generation failed.\");}setLoading(false);}fetchImages();},[mood]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.feedContainer,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.feedTitle,children:\"Your Balanced Feed\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.moodInfoBox,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.moodLabel,children:\"Mood detected:\\xA0\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.moodValue,children:mood||\"neutral\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.moodDescription,children:\"The feed below is generated by AI to visually reflect your mood.\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:styles.error,children:error}),loading?/*#__PURE__*/_jsx(\"p\",{className:styles.loading,children:\"Generating images...\"}):/*#__PURE__*/_jsx(\"div\",{className:styles.imageGrid,children:images.length>0?images.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.imageCard,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.imageHeader,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/chatbot-avatar.png\",alt:\"avatar\",className:styles.avatarSmall}),/*#__PURE__*/_jsx(\"span\",{className:styles.username,children:\"AI_Generator\"})]}),/*#__PURE__*/_jsx(\"span\",{className:styles.imageHeaderRight,children:\"\\u22EF\"})]}),/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"mood img \".concat(idx),className:styles.image}),/*#__PURE__*/_jsxs(\"div\",{className:styles.reactions,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2764\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCE4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.caption,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"AI_Generator\"}),\"This post was created to gently shift you out of feeling \",mood,\", and into a better headspace.\",/*#__PURE__*/_jsxs(\"div\",{className:styles.captionTag,children:[\"#\",mood,\"vibes\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.timestamp,children:\"2 HOURS AGO\"})]},idx)):/*#__PURE__*/_jsx(\"div\",{className:styles.noImages,children:\"No images generated.\"})})]});}export default SocialMediaScreen;","map":{"version":3,"names":["React","useState","useEffect","axios","styles","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","generatePromptForMood","mood","trim","concat","SocialMediaScreen","_ref","images","setImages","loading","setLoading","error","setError","console","log","fetchImages","prompt","response","post","data","e","_e$response","_e$response$data","className","feedContainer","children","feedTitle","moodInfoBox","moodLabel","moodValue","moodDescription","imageGrid","length","map","img","idx","imageCard","imageHeader","style","display","alignItems","gap","src","alt","avatarSmall","username","imageHeaderRight","image","reactions","caption","captionTag","timestamp","noImages"],"sources":["C:/Users/20184080/OneDrive - TU Eindhoven/Documents/2. Industrial Design/Final Master Project/therapeutic-chatbot/frontend/src/components/SocialMediaScreen.js"],"sourcesContent":["// src/components/SocialMediaScreen.js\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styles from \"./SocialMediaScreen.module.css\";\r\n\r\nconst BACKEND_URL = \"http://localhost:5000\";\r\n\r\nfunction generatePromptForMood(mood) {\r\n  if (!mood || typeof mood !== \"string\" || mood.trim() === \"\") {\r\n    mood = \"neutral\";\r\n  }\r\n  return `A stylized photo instagram post (without the instagram UI) designed to support the mood '${mood}':\r\n\r\n‚Äì If negative (anxious, sad, angry, overwhelmed): show a peaceful scene like gentle ocean waves, soft pastel colors, and a minimal layout with a calm tone.\r\n‚Äì If neutral: show an uplifting article preview or news snippet with balanced composition, soft lighting, and a hint of curiosity or inspiration (like a sunrise or a glowing headline).\r\n‚Äì If positive: display a cheerful, vibrant post celebrating joy‚Äîbright colors, confetti, smiling icons, or a celebration scene.\r\n\r\nRequirements:\r\n‚Ä¢ Clean layout, subtle shadows, realistic or semi-realistic visual style.`;\r\n}\r\n\r\nfunction SocialMediaScreen({ mood }) {\r\n  const [images, setImages] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Received mood from backend:\", mood);\r\n  }, [mood]);\r\n\r\n  useEffect(() => {\r\n    async function fetchImages() {\r\n      setLoading(true);\r\n      setError(null);\r\n      setImages([]);\r\n      const prompt = generatePromptForMood(mood);\r\n      try {\r\n        const response = await axios.post(`${BACKEND_URL}/api/generate-image`, {\r\n          prompt,\r\n        });\r\n        setImages(response.data.images || []);\r\n      } catch (e) {\r\n        setImages([]);\r\n        setError(\r\n          e.response?.data?.error || \"Image generation failed.\"\r\n        );\r\n      }\r\n      setLoading(false);\r\n    }\r\n    fetchImages();\r\n  }, [mood]);\r\n\r\n  return (\r\n    <div className={styles.feedContainer}>\r\n      <h2 className={styles.feedTitle}>Your Balanced Feed</h2>\r\n\r\n      <div className={styles.moodInfoBox}>\r\n        <span className={styles.moodLabel}>Mood detected:&nbsp;</span>\r\n        <span className={styles.moodValue}>{mood || \"neutral\"}</span>\r\n        <div className={styles.moodDescription}>\r\n          The feed below is generated by AI to visually reflect your mood.\r\n        </div>\r\n      </div>\r\n\r\n      {error && <div className={styles.error}>{error}</div>}\r\n\r\n      {loading ? (\r\n        <p className={styles.loading}>Generating images...</p>\r\n      ) : (\r\n        <div className={styles.imageGrid}>\r\n          {images.length > 0 ? (\r\n            images.map((img, idx) => (\r\n              <div key={idx} className={styles.imageCard}>\r\n                <div className={styles.imageHeader}>\r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                    <img\r\n                      src=\"/chatbot-avatar.png\"\r\n                      alt=\"avatar\"\r\n                      className={styles.avatarSmall}\r\n                    />\r\n                    <span className={styles.username}>AI_Generator</span>\r\n                  </div>\r\n                  <span className={styles.imageHeaderRight}>‚ãØ</span>\r\n                </div>\r\n                <img\r\n                  src={img}\r\n                  alt={`mood img ${idx}`}\r\n                  className={styles.image}\r\n                />\r\n                <div className={styles.reactions}>\r\n                  <span>‚ù§Ô∏è</span>\r\n                  <span>üí¨</span>\r\n                  <span>üì§</span>\r\n                </div>\r\n                <div className={styles.caption}>\r\n                  <strong>AI_Generator</strong>\r\n                  This post was created to gently shift you out of feeling {mood}, and into a better headspace.\r\n                  <div className={styles.captionTag}>#{mood}vibes</div>\r\n                </div>\r\n                <div className={styles.timestamp}>2 HOURS AGO</div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className={styles.noImages}>No images generated.</div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SocialMediaScreen;\r\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,WAAW,CAAG,uBAAuB,CAE3C,QAAS,CAAAC,qBAAqBA,CAACC,IAAI,CAAE,CACnC,GAAI,CAACA,IAAI,EAAI,MAAO,CAAAA,IAAI,GAAK,QAAQ,EAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC3DD,IAAI,CAAG,SAAS,CAClB,CACA,kGAAAE,MAAA,CAAmGF,IAAI,slBAQzG,CAEA,QAAS,CAAAG,iBAAiBA,CAAAC,IAAA,CAAW,IAAV,CAAEJ,IAAK,CAAC,CAAAI,IAAA,CACjC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACdoB,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEZ,IAAI,CAAC,CAClD,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEVT,SAAS,CAAC,IAAM,CACd,cAAe,CAAAsB,WAAWA,CAAA,CAAG,CAC3BL,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACdJ,SAAS,CAAC,EAAE,CAAC,CACb,KAAM,CAAAQ,MAAM,CAAGf,qBAAqB,CAACC,IAAI,CAAC,CAC1C,GAAI,CACF,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAvB,KAAK,CAACwB,IAAI,IAAAd,MAAA,CAAIJ,WAAW,wBAAuB,CACrEgB,MACF,CAAC,CAAC,CACFR,SAAS,CAACS,QAAQ,CAACE,IAAI,CAACZ,MAAM,EAAI,EAAE,CAAC,CACvC,CAAE,MAAOa,CAAC,CAAE,KAAAC,WAAA,CAAAC,gBAAA,CACVd,SAAS,CAAC,EAAE,CAAC,CACbI,QAAQ,CACN,EAAAS,WAAA,CAAAD,CAAC,CAACH,QAAQ,UAAAI,WAAA,kBAAAC,gBAAA,CAAVD,WAAA,CAAYF,IAAI,UAAAG,gBAAA,iBAAhBA,gBAAA,CAAkBX,KAAK,GAAI,0BAC7B,CAAC,CACH,CACAD,UAAU,CAAC,KAAK,CAAC,CACnB,CACAK,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACb,IAAI,CAAC,CAAC,CAEV,mBACEH,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAAC6B,aAAc,CAAAC,QAAA,eACnC5B,IAAA,OAAI0B,SAAS,CAAE5B,MAAM,CAAC+B,SAAU,CAAAD,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAExD1B,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAACgC,WAAY,CAAAF,QAAA,eACjC5B,IAAA,SAAM0B,SAAS,CAAE5B,MAAM,CAACiC,SAAU,CAAAH,QAAA,CAAC,oBAAoB,CAAM,CAAC,cAC9D5B,IAAA,SAAM0B,SAAS,CAAE5B,MAAM,CAACkC,SAAU,CAAAJ,QAAA,CAAEvB,IAAI,EAAI,SAAS,CAAO,CAAC,cAC7DL,IAAA,QAAK0B,SAAS,CAAE5B,MAAM,CAACmC,eAAgB,CAAAL,QAAA,CAAC,kEAExC,CAAK,CAAC,EACH,CAAC,CAELd,KAAK,eAAId,IAAA,QAAK0B,SAAS,CAAE5B,MAAM,CAACgB,KAAM,CAAAc,QAAA,CAAEd,KAAK,CAAM,CAAC,CAEpDF,OAAO,cACNZ,IAAA,MAAG0B,SAAS,CAAE5B,MAAM,CAACc,OAAQ,CAAAgB,QAAA,CAAC,sBAAoB,CAAG,CAAC,cAEtD5B,IAAA,QAAK0B,SAAS,CAAE5B,MAAM,CAACoC,SAAU,CAAAN,QAAA,CAC9BlB,MAAM,CAACyB,MAAM,CAAG,CAAC,CAChBzB,MAAM,CAAC0B,GAAG,CAAC,CAACC,GAAG,CAAEC,GAAG,gBAClBpC,KAAA,QAAewB,SAAS,CAAE5B,MAAM,CAACyC,SAAU,CAAAX,QAAA,eACzC1B,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAAC0C,WAAY,CAAAZ,QAAA,eACjC1B,KAAA,QAAKuC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,CAAE,CAAE,CAAAhB,QAAA,eAC5D5B,IAAA,QACE6C,GAAG,CAAC,qBAAqB,CACzBC,GAAG,CAAC,QAAQ,CACZpB,SAAS,CAAE5B,MAAM,CAACiD,WAAY,CAC/B,CAAC,cACF/C,IAAA,SAAM0B,SAAS,CAAE5B,MAAM,CAACkD,QAAS,CAAApB,QAAA,CAAC,cAAY,CAAM,CAAC,EAClD,CAAC,cACN5B,IAAA,SAAM0B,SAAS,CAAE5B,MAAM,CAACmD,gBAAiB,CAAArB,QAAA,CAAC,QAAC,CAAM,CAAC,EAC/C,CAAC,cACN5B,IAAA,QACE6C,GAAG,CAAER,GAAI,CACTS,GAAG,aAAAvC,MAAA,CAAc+B,GAAG,CAAG,CACvBZ,SAAS,CAAE5B,MAAM,CAACoD,KAAM,CACzB,CAAC,cACFhD,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAACqD,SAAU,CAAAvB,QAAA,eAC/B5B,IAAA,SAAA4B,QAAA,CAAM,cAAE,CAAM,CAAC,cACf5B,IAAA,SAAA4B,QAAA,CAAM,cAAE,CAAM,CAAC,cACf5B,IAAA,SAAA4B,QAAA,CAAM,cAAE,CAAM,CAAC,EACZ,CAAC,cACN1B,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAACsD,OAAQ,CAAAxB,QAAA,eAC7B5B,IAAA,WAAA4B,QAAA,CAAQ,cAAY,CAAQ,CAAC,4DAC4B,CAACvB,IAAI,CAAC,gCAC/D,cAAAH,KAAA,QAAKwB,SAAS,CAAE5B,MAAM,CAACuD,UAAW,CAAAzB,QAAA,EAAC,GAAC,CAACvB,IAAI,CAAC,OAAK,EAAK,CAAC,EAClD,CAAC,cACNL,IAAA,QAAK0B,SAAS,CAAE5B,MAAM,CAACwD,SAAU,CAAA1B,QAAA,CAAC,aAAW,CAAK,CAAC,GA3B3CU,GA4BL,CACN,CAAC,cAEFtC,IAAA,QAAK0B,SAAS,CAAE5B,MAAM,CAACyD,QAAS,CAAA3B,QAAA,CAAC,sBAAoB,CAAK,CAC3D,CACE,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAApB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}